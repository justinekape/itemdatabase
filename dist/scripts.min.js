let pokemonRepository=function(){let e=[],a=document.getElementById("pokeSearch");function b(a){e.push(a)}function c(){return e}function d(a){return fetch(a.detailsUrl).then(function(a){return a.json()}).then(function(b){a.imageUrl=b.sprites.front_default,a.height=b.height,a.types=b.types[0].type.name;let c=[];b.types.forEach(a=>c.push(a.type.name)),a.types=c}).catch(function(a){console.error(a)})}return a.addEventListener("input",function(){let a=document.getElementById("pokeSearch").value;a=a.toLowerCase(),$("li").each(function(){let b=$(this);b.text().includes(a)?b.show():b.hide()})}),{add:b,getAll:c,addListItem:function(c){let e=document.querySelector(".list-group"),b=document.createElement("li"),a=document.createElement("button");a.innerText=c.name,a.classList.add("btn","btn-primary","list-group-item","list-group-item-action"),a.setAttribute("data-toggle","modal"),a.setAttribute("data-target","#exampleModal"),b.appendChild(a),e.appendChild(b),a.addEventListener("click",function(){(function(a){d(a).then(function(){var b;let d,c,f,e,g,h;b=a,d=$(".modal-title"),$(".modal-header"),c=$(".modal-body"),d.empty(),c.empty(),f=$("<h1>"+b.name+"</h1>"),e=$('<img class="pokeImage" style="width:50%">'),e.attr("src",b.imageUrl),g=$("<p>height: "+b.height+"</p>"),h=$("<p>type: "+b.types+"</p>"),d.append(f),c.append(e),c.append(g),c.append(h)})})(c)})},loadList:function(){return fetch("https://pokeapi.co/api/v2/pokemon/?offset=0&limit=150").then(function(a){return a.json()}).then(function(a){a.results.forEach(function(a){b({name:a.name,detailsUrl:a.url})})}).catch(function(a){console.error(a)})},loadDetails:d}}();console.log(pokemonRepository.getAll()),pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(a){pokemonRepository.addListItem(a)})})
